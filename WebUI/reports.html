<!DOCTYPE html>
<html lang="en">
<head>
    <!--
    Team Members: Aiden Jajo, Diego Lopez, Manuel Jimenez, Romel Aleman
    School: San Diego State University
    Course: CS576-03 - Computer Networks and Distributed Systems
    Project: NetPi-Scanner
    
    Reports page for viewing and downloading generated CSV and log files.
    Provides access to scan results, performance logs, packet captures, and scheduled logs.
    -->
    
    <meta charset="UTF-8">
    <title>Reports – NetPi Scanner</title>

    <!-- Page styles and theme colors -->
    <style>
        :root {
            /* Theme colors */
            --bg:#020617;
            --panel:#0b1120;
            --panel-soft:#0f172a;
            --border:#1d2755;
            --text:#e6e9f5;
            --muted:#a9b0c7;
            --accent:#6ee7ff;
            --accent-2:#a78bfa;
        }

        /* Reset */
        * { box-sizing: border-box; }

        /* Page background and layout */
        body {
            margin: 0;
            min-height: 100vh;
            font-family: system-ui, -apple-system, BlinkMacSystemFont, "SF Pro Text", sans-serif;
            color: var(--text);
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 32px 12px;
            background: radial-gradient(circle at 0% 0%, #1e293b 0, transparent 55%),
                        radial-gradient(circle at 110% 0%, #4c1d95 0, transparent 55%),
                        radial-gradient(circle at 0% 120%, #0f172a 0, transparent 55%),
                        var(--bg);
        }

        /* Main card container */
        .container {
            max-width: 880px;
            width: 100%;
            background: radial-gradient(circle at top left, rgba(148,163,253,0.06), transparent 60%),
                        radial-gradient(circle at bottom right, rgba(45,212,191,0.04), transparent 60%),
                        var(--panel-soft);
            border: 1px solid rgba(148,163,253,0.25);
            border-radius: 24px;
            padding: 22px 22px 20px;
            display: flex;
            flex-direction: column;
            min-height: 60vh;
            box-shadow: 0 26px 80px rgba(15,23,42,0.85), 0 0 0 1px rgba(15,23,42,0.9);
            backdrop-filter: blur(26px);
        }

        /* Main title */
        h1 {
            margin-top: 0;
            font-size: 22px;
            letter-spacing: 0.04em;
            text-transform: uppercase;
            color: #f9fafb;
        }

        .subtitle { font-size: 14px; margin-bottom: 20px; color: var(--muted); }

        /* Flexible layout for report sections */
        .sections { display: flex; flex-wrap: wrap; gap: 16px; }

        /* Individual report section card */
        .section {
            flex: 1 1 260px;
            border-radius: 16px;
            padding: 14px 16px 12px;
            background: radial-gradient(circle at top left, rgba(51,65,85,0.4), transparent 60%),
                        radial-gradient(circle at bottom right, rgba(15,23,42,0.9), transparent 60%),
                        rgba(15,23,42,0.95);
            border: 1px solid rgba(148,163,253,0.4);
        }

        .section h2 { font-size: 15px; margin: 0 0 6px; }
        .section p  { font-size: 13px; margin: 0 0 8px; color: var(--muted); }

        /* List of files inside a section */
        .report-list {
            list-style: none;
            padding: 0;
            margin: 0 0 10px;
            font-size: 12px;
            color: var(--muted);
        }

        .report-list li { margin-bottom: 4px; }

        /* Small pill tag (file type) */
        .tag {
            font-size: 11px;
            padding: 2px 6px;
            border-radius: 999px;
            border: 1px solid rgba(148,163,253,0.5);
            background: rgba(15,23,42,0.9);
            margin-right: 6px;
        }

        /* Buttons for download / navigation */
        .link-btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            padding: 6px 12px;
            border-radius: 999px;
            border: 1px solid rgba(148,163,253,0.7);
            text-decoration: none;
            cursor: pointer;
            color: var(--text);
            font-weight: 600;
            letter-spacing: 0.02em;
            background: linear-gradient(135deg, rgba(110,231,255,0.25), rgba(167,139,250,0.25));
            margin-right: 6px;
        }

        /* Secondary/outline button style */
        .link-btn.secondary {
            background: rgba(15,23,42,0.95);
            color: var(--muted);
            border-color: rgba(148,163,253,0.6);
        }

        /* Footer text */
        .footer {
            margin-top: auto;
            font-size: 12px;
            color: var(--muted);
            text-align: center;
            padding-top: 10px;
        }

        /* Link colors */
        .page a, .container a { color: var(--muted); text-decoration: none; }
        .page a:hover, .container a:hover { color: var(--accent-2); }

        /* Mobile padding tweaks */
        @media (max-width:720px){
            .container { padding:18px 14px; }
        }
    </style>
</head>
<body>
    <!-- Main reports wrapper -->
    <div class="container page">
        <!-- Page title and description -->
        <h1>Saved Reports</h1>
        <p class="subtitle">
            Download CSV reports and logs generated by NetPi Scanner.
        </p>

        <!-- All report categories -->
        <div class="sections">

            <!-- Scan reports section -->
            <div class="section">
                <h2>Scan Reports</h2>
                <p>Results from the network discovery scanner.</p>
                <ul class="report-list">
                    <li>
                        <span class="tag">CSV</span>
                        <strong>Saved Devices</strong>
                    </li>
                </ul>
                <!-- Link to download scan CSV -->
                <a class="link-btn" href="{{ url_for('download_file', filename='saved_devices.csv') }}">Download CSV</a>
                <!-- Link back to scan page -->
                <a class="link-btn secondary" href="{{ url_for('scan') }}">View Scan Page</a>
            </div>

            <!-- Performance reports section -->
            <div class="section">
                <h2>Performance Reports</h2>
                <p>Per-device performance measurements and latency logs.</p>
                <ul class="report-list">
                    <li>
                        <span class="tag">CSV</span>
                        <strong>Performance Log</strong>
                    </li>
                </ul>
                <!-- Link to download performance CSV -->
                <a class="link-btn" href="{{ url_for('download_file', filename='performance_log.csv') }}">Download CSV</a>
                <!-- Link back to performance page -->
                <a class="link-btn secondary" href="{{ url_for('performance') }}">View Performance Page</a>
            </div>

            <!-- Packet sniffer reports section -->
            <div class="section">
                <h2>Packet Sniffer Reports</h2>
                <p>Protocol breakdown and capture files produced by the sniffer.</p>
                <ul class="report-list">
                    <li>
                        <span class="tag">PCAP</span>
                        <strong>Captured Packets</strong>
                    </li>
                </ul>
                <!-- Link to download pcap file -->
                <a class="link-btn" href="{{ url_for('download_file', filename='output.pcap') }}">Download PCAP</a>
                <!-- Link back to sniffer page -->
                <a class="link-btn secondary" href="{{ url_for('sniffer') }}">View Sniffer Page</a>
            </div>

            <!-- Scheduled logs section -->
            <div class="section">
                <h2>Scheduled Logs</h2>
                <p>Logs created by scheduled scans and performance runs.</p>
                <ul class="report-list">
                    <li>
                        <span class="tag">LOG</span>
                        <strong>Scan Log</strong>
                    </li>
                    <li>
                        <span class="tag">LOG</span>
                        <strong>Performance Log</strong>
                    </li>
                </ul>
                <!-- Links to download scheduled log files -->
                <a class="link-btn" href="{{ url_for('download_file', filename='scan.log') }}">Download Scan Log</a>
                <a class="link-btn" href="{{ url_for('download_file', filename='performance.log') }}">Download Perf Log</a>
            </div>

        </div>

        <!-- Back navigation -->
        <p style="margin-top:16px;">
            <a href="{{ url_for('index') }}">← Back to Home</a>
        </p>

        <!-- Footer label -->
        <p class="footer">NetPi Scanner – download your reports.</p>
    </div>
</body>
</html>
